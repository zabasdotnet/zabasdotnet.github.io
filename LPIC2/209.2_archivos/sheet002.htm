<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:x="urn:schemas-microsoft-com:office:excel"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<meta name=ProgId content=Excel.Sheet>
<meta name=Generator content="Microsoft Excel 15">
<link id=Main-File rel=Main-File href="../209.2.htm">
<link rel=File-List href=filelist.xml>
<title>200.1 - Measure and Troubleshoot Resource Usage</title>
<link rel=Stylesheet href=stylesheet.css>
<style>
<!--table
	{mso-displayed-decimal-separator:"\,";
	mso-displayed-thousand-separator:"\.";}
@page
	{margin:.75in .7in .75in .7in;
	mso-header-margin:.3in;
	mso-footer-margin:.3in;}
-->
</style>
<![if !supportTabStrip]><script language="JavaScript">
<!--
function fnUpdateTabs()
 {
  if (parent.window.g_iIEVer>=4) {
   if (parent.document.readyState=="complete"
    && parent.frames['frTabs'].document.readyState=="complete")
   parent.fnSetActiveSheet(1);
  else
   window.setTimeout("fnUpdateTabs();",150);
 }
}

if (window.name!="frSheet")
 window.location.replace("../209.2.htm");
else
 fnUpdateTabs();
//-->
</script>
<![endif]>
</head>

<body link=blue vlink=purple>

<table border=0 cellpadding=0 cellspacing=0 width=1288 style='border-collapse:
 collapse;table-layout:fixed;width:966pt'>
 <col width=1240 style='mso-width-source:userset;mso-width-alt:45348;
 width:930pt'>
 <col width=48 style='mso-width-source:userset;mso-width-alt:1755;width:36pt'>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 width=1240 style='height:15.0pt;width:930pt'>Compartición
  de datos con NFS</td>
  <td class=xl78 width=48 style='width:36pt'><a href="sheet001.htm#RANGE!A1"><span
  style='font-weight:700'>Volver</span></a></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><font class="font5">NFS</font><font
  class="font0"> es el protocolo tradicional de </font><font class="font5">compartición</font><font
  class="font0"> de archivos en sistemas </font><font class="font5">Unix</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Aunque su antigüedad lo hace menos
  popular a ojos de los jóvenes usuarios de Linux.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Sigue siendo interesante conocerlo por la
  <font class="font5">rapidez</font><font class="font0"> y la </font><font
  class="font5">simplicidad</font><font class="font0"> en su despliegue para
  una compartición entre dos sistemas Linux o Unix.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Además, <font class="font5">NFS</font><font
  class="font0"> está gozando recientemente de un renovado interés gracias a
  algunas aplicaciones que lo usan.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Por ejemplo, las infraestructuras <font
  class="font15">Vmware</font><font class="font0"> para acceder a espacios de
  almacenamiento de bajo coste o las unidades multimedia domésticas que acceden
  a servidores de archivos.</font></td>
  <td></td>
 </tr>
 <tr height=40 style='height:30.0pt;mso-xlrowspan:2'>
  <td height=40 colspan=2 style='height:30.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>1. Compartición de directorios</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>a. Observación de
  comparticiones activas</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Las comparticiones <font class="font5">NFS</font><font
  class="font0"> activas en un sistema se declaran mediante un directorio local
  y están accesibles para algunos clientes con ciertas opciones.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Los clientes autorizados, así como las
  opciones, se declaran cuando se activa la compartición.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Si se encuentra un sistema ya
  configurado, puede ser útil hacer un diagnóstico de las <font class="font18">comparticiones</font><font
  class="font0"> </font><font class="font19">activas</font><font class="font0">
  de este sistema.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Este <font class="font18">diagnóstico</font><font
  class="font0"> se realiza usando el comando </font><font class="font17">exportfs</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Ejemplo de uso del comando
  exportfs para observar las comparticiones activas</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>En este ejemplo, el directorio /perso se
  comparte solamente para la dirección 192.168.0.20, mientras que /nas se
  comparte para todos los clientes.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>alfa:~# exportfs<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>/data/perso<span
  style='mso-spacerun:yes'>         </span>&lt;192.168.0.20&gt;<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>/nas<span
  style='mso-spacerun:yes'>      </span>&lt;world&gt;<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>alfa:~#</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Se pueden observar las <font
  class="font18">estadísticas</font><font class="font0"> relacionadas con la
  actividad NFS mediante el comando </font><font class="font20">nfsstat</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Visualización de estadísticas
  de NFS</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El comando <font class="font17">nfsstat</font><font
  class="font0"> sirve sobre todo para verificar una actividad o una ausencia
  de actividad en un servidor NFS.</font></td>
  <td></td>
 </tr>
 <tr class=xl75 height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>usuario@servidor:~$
  nfsstat<span style='mso-spacerun:yes'> </span></td>
  <td class=xl75></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>Server rpc stats:<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>calls<span
  style='mso-spacerun:yes'>      </span>badcalls<span
  style='mso-spacerun:yes'>   </span>badauth<span style='mso-spacerun:yes'>   
  </span>badclnt<span style='mso-spacerun:yes'>    </span>xdrcall<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>12<span
  style='mso-spacerun:yes'>         </span>0<span
  style='mso-spacerun:yes'>          </span>0<span
  style='mso-spacerun:yes'>          </span>0<span
  style='mso-spacerun:yes'>          </span>0<span
  style='mso-spacerun:yes'>        </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>Server nfs v3:<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>null<span
  style='mso-spacerun:yes'>         </span>getattr<span
  style='mso-spacerun:yes'>      </span>setattr<span
  style='mso-spacerun:yes'>      </span>lookup<span
  style='mso-spacerun:yes'>       </span>access<span
  style='mso-spacerun:yes'>       </span>readlink<span
  style='mso-spacerun:yes'>     </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>2<span
  style='mso-spacerun:yes'>        </span>18% 2<span
  style='mso-spacerun:yes'>        </span>18% 0<span
  style='mso-spacerun:yes'>         </span>0% 2<span
  style='mso-spacerun:yes'>        </span>18% 1<span
  style='mso-spacerun:yes'>         </span>9% 0<span
  style='mso-spacerun:yes'>         </span>0%<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>read<span
  style='mso-spacerun:yes'>         </span>write<span
  style='mso-spacerun:yes'>        </span>create<span
  style='mso-spacerun:yes'>       </span>mkdir<span
  style='mso-spacerun:yes'>        </span>symlink<span
  style='mso-spacerun:yes'>      </span>mknod<span
  style='mso-spacerun:yes'>        </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0%<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>remove<span
  style='mso-spacerun:yes'>       </span>rmdir<span
  style='mso-spacerun:yes'>        </span>rename<span
  style='mso-spacerun:yes'>       </span>link<span
  style='mso-spacerun:yes'>         </span>readdir<span
  style='mso-spacerun:yes'>      </span>readdirplus<span
  style='mso-spacerun:yes'>  </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0% 0<span
  style='mso-spacerun:yes'>         </span>0%<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>fsstat<span
  style='mso-spacerun:yes'>       </span>fsinfo<span
  style='mso-spacerun:yes'>       </span>pathconf<span
  style='mso-spacerun:yes'>     </span>commit<span
  style='mso-spacerun:yes'>        </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>0<span
  style='mso-spacerun:yes'>         </span>0% 3<span
  style='mso-spacerun:yes'>        </span>27% 1<span
  style='mso-spacerun:yes'>         </span>9% 0<span
  style='mso-spacerun:yes'>         </span>0%<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>Client rpc stats:<span
  style='mso-spacerun:yes'>  </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>calls<span
  style='mso-spacerun:yes'>      </span>retrans<span
  style='mso-spacerun:yes'>    </span>authrefrsh<span
  style='mso-spacerun:yes'>  </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>0<span
  style='mso-spacerun:yes'>          </span>0<span
  style='mso-spacerun:yes'>          </span>0<span
  style='mso-spacerun:yes'>        </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>usuario@servidor:~$</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>b. Compartición puntual</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El comando <font class="font17">exportfs</font><font
  class="font0"> también permite declarar una </font><font class="font18">compartición</font><font
  class="font0"> de forma </font><font class="font20">interactiva</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Se utiliza para declarar comparticiones
  puntuales.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Sintaxis del comando exportfs
  para una compartición puntual</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>exportfs
  dirección_cliente:/ruta_compartición</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Comando exportfs: opciones y
  parámetros</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>dirección_cliente <font
  class="font16">--&gt; Dirección IP del cliente o de la red que se puede
  conectar a la compartición. El comodín * autoriza a todos los clientes para
  que se puedan conectar.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>ruta_compartición<font
  class="font16"> --&gt; Ruta absoluta del directorio que se comparte.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Por supuesto, hace ya mucho tiempo que el
  control de acceso basado en la dirección IP no es una garantía de seguridad.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>c. Servicio NFS y compartición
  permanente</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Naturalmente, se puede declarar una
  compartición permanente activa para el inicio del <font class="font17">servicio</font><font
  class="font0"> </font><font class="font5">NFS</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><a name="RANGE!A64">Esta declaración se
  realiza en el archivo <font class="font17">/etc/exports</font><font
  class="font0">.</font></a></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl79 style='height:15.0pt'>Hay que tener en cuenta que,
  según la distribución, este archivo posiblemente no se haya creado después de
  la instalación del servicio y hay que crearlo desde cero.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Formato del archivo
  /etc/exports</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>compartición1
  dirección_cliente1<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>compartición2
  dirección_cliente2</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Este archivo se lee cada vez que arranca
  el <font class="font17">servicio</font><font class="font0"> </font><font
  class="font5">NFS</font><font class="font0"> o en cada llamada al comando </font><font
  class="font17">exporfs</font><font class="font0"> con la opción </font><font
  class="font17">-a</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Hay que tener en cuenta que las <font
  class="font18">comparticiones</font><font class="font0"> se expresan siempre
  con su </font><font class="font18">ruta absoluta</font><font class="font0">,
  es decir, se expresan con relación a la raíz del sistema de archivos.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>El script de administración
  del servicio NFS provoca la ejecución de tres daemons estándar:</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'><a name="RANGE!A75">1) portmap
  <font class="font16">--&gt; gestiona las peticiones RPC (Remote Procedure
  Call).</font></a></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>2) nfsd <font class="font16">--&gt;
  espacio de usuario del servicio NFS. Inicia los threads NFS para las
  conexiones cliente.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'><a name="RANGE!A77">3) mountd <font
  class="font16">--&gt; gestiona las peticiones de montaje de los clientes.</font></a></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><a name="RANGE!A79">El comando <font
  class="font18">rpcinfo</font><font class="font0"> permite efectuar una
  petición </font><font class="font18">RPC</font><font class="font0"> a un
  servidor y mostrar los </font><font class="font14">daemons</font><font
  class="font0"> </font><font class="font14">gestionados</font><font
  class="font0">.</font></a></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>d. Opciones de compartición</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Algunas opciones modifican el
  comportamiento del servidor <font class="font5">NFS</font><font class="font0">
  para cada una de las comparticiones que alberga.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><a name="RANGE!A83">Las opciones se
  especifican mediante el comando <font class="font17">exportfs</font><font
  class="font0"> si se utiliza dinámicamente o en el archivo </font><font
  class="font17">/etc/exports</font><font class="font0"> si se utiliza NFS como
  servicio.</font></a></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Opciones NFS comunes</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>ro <font class="font16">--&gt;
  Acceso en modo solo lectura.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>rw <font class="font16">--&gt;
  Acceso en modo lectura/escritura.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>sync <font class="font16">--&gt;
  Acceso en modo escritura síncrona. Los datos se escriben inmediatamente.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>async <font class="font16">--&gt;
  Acceso en modo escritura asíncrona. Utilización de una caché de escritura.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>root_squash <font
  class="font16">--&gt; Comportamiento por defecto. La cuenta root pierde sus
  privilegios en la compartición.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>no_root_squash <font
  class="font16">--&gt; La cuenta root conserva sus privilegios en la
  compartición.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>nolock <font class="font16">--&gt;
  No se bloquean los archivos a los que se accede.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Ejemplo de uso del comando
  exportfs con la opción de solo lectura</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Si hay <font class="font15">varias
  opciones</font><font class="font0">, se deben separar por </font><font
  class="font15">comas</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>root@servidor# exportfs -o ro
  *:/data<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>root@servidor#</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Ejemplo de archivo
  /etc/exports con la opción de solo lectura</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El <font class="font17">parámetro </font><font
  class="font18">*</font><font class="font0"> o una </font><font class="font14">dirección
  IP </font><font class="font0">de un cliente autorizado son indispensables
  para un buen funcionamiento.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>/data<span
  style='mso-spacerun:yes'>    </span>*(ro)</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Ejemplo de visualización de
  las comparticiones activas con sus opciones</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Se muestran las opciones explícitas, así
  como las opciones por defecto.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>alfa:~# exportfs -v<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>/perso<span
  style='mso-spacerun:yes'>        
  </span>192.168.0.20(rw,wdelay,root_squash,no_subtree_check)<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>/data<span
  style='mso-spacerun:yes'>         
  </span>&lt;world&gt;(ro,wdelay,root_squash,no_subtree_check)<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>alfa:~#</td>
  <td></td>
 </tr>
 <tr height=40 style='height:30.0pt;mso-xlrowspan:2'>
  <td height=40 colspan=2 style='height:30.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>2. Configuración de clientes</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>a. Visualización de las
  comparticiones remotas</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><a name="RANGE!A113">El comando <font
  class="font17">showmount</font><font class="font0"> permite mostrar la
  información de un servidor </font><font class="font5">NFS</font><font
  class="font0"> </font><font class="font16">remoto</font><font class="font0">.</font></a></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Visualización de las
  comparticiones remotas con showmount</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>showmount --exports servidor</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Donde <font class="font17">servidor</font><font
  class="font0"> representa la dirección </font><font class="font17">IP</font><font
  class="font0"> del </font><font class="font17">servidor</font><font
  class="font0"> del que queremos obtener las comparticiones.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>b. Montaje de un directorio
  remoto</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Los ordenadores cliente acceden a una
  compartición <font class="font5">NFS</font><font class="font0"> mediante una
  operación de montaje. Usan la compartición montada como si de una estructura
  de directorios local se tratase.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Usan la compartición montada como si de
  una estructura de directorios local se tratase.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Montaje de una compartición
  NFS</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>mount -t nfs
  dirección_servidor:/ruta_compartición punto_de_montaje</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>*Montaje NFS: opciones y
  parámetros</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl80 style='height:15.0pt'><font class="font17">-t nfs </font><font
  class="font16">--&gt; Indica que el dispositivo que se montará es una
  compartición NFS remota e invoca al subprograma cliente NFS.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>dirección_servidor --&gt; La
  dirección IP del servidor NFS.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>ruta_compartición --&gt; La
  ruta absoluta del directorio compartido en el servidor.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>punto_de_montaje --&gt; El
  directorio local del cliente en el que se montará la compartición NFS.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>3. Administración de las
  identidades</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>a. Los permisos del cliente</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Puede ser bastante sorprendente comprobar
  que no se solicita ningún tipo de identificación en la conexión a una
  compartición <font class="font5">NFS</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Se encontrará conectado sin tener que
  haber proporcionado credenciales.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>De hecho, <font class="font5">NFS</font><font
  class="font0"> considera que los identificadores de los usuarios son
  coherentes entre el servidor y sus clientes.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Es decir, todas las cuentas de usuario
  son idénticas en todas las máquinas y sus identificadores de usuario (uid)
  son todos los mismos.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Cuando un cliente se conecta a una
  compartición NFS, presenta su uid y tiene exactamente los permisos que el
  usuario con el mismo uid en el servidor.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl81 style='height:15.0pt'>No se realiza ningún control.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>b. El caso particular del
  superusuario</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Como la cuenta <font class="font17">root</font><font
  class="font0"> tiene el </font><font class="font17">uid 0</font><font
  class="font5"> </font><font class="font0">sea cual sea el sistema Linux, un
  cliente que se conecta al servidor con su cuenta de superusuario en teoría
  debería tener todos los privilegios en la compartición.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Esta embarazosa situación se resuelve
  mediante la aplicación implícita de una opción de compartición: <font
  class="font18">root_squash</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>En efecto, si un servidor recibe una
  solicitud de conexión de una cuenta con el uid 0, modifica su identificador y
  le aplica en la compartición el uid de una <font class="font17">cuenta de
  servicio NFS</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Esta cuenta (según la distribución <font
  class="font17">nfsanonymous, nfsnobody, nobody</font><font class="font0">...)
  en general solo tendrá permisos del conjunto de</font><font class="font5">
  usuarios «otros»</font><font class="font0"> en el sistema del servidor.</font></td>
  <td></td>
 </tr>
 <tr height=60 style='height:45.0pt;mso-xlrowspan:3'>
  <td height=60 colspan=2 style='height:45.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl78 style='height:15.0pt'><a href="sheet001.htm#RANGE!A1"><span
  style='font-weight:700'>Volver</span></a></td>
  <td></td>
 </tr>
 <![if supportMisalignedColumns]>
 <tr height=0 style='display:none'>
  <td width=1240 style='width:930pt'></td>
  <td width=48 style='width:36pt'></td>
 </tr>
 <![endif]>
</table>

</body>

</html>
