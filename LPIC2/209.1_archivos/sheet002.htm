<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:x="urn:schemas-microsoft-com:office:excel"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<meta name=ProgId content=Excel.Sheet>
<meta name=Generator content="Microsoft Excel 15">
<link id=Main-File rel=Main-File href="../209.1.htm">
<link rel=File-List href=filelist.xml>
<title>200.1 - Measure and Troubleshoot Resource Usage</title>
<link rel=Stylesheet href=stylesheet.css>
<style>
<!--table
	{mso-displayed-decimal-separator:"\,";
	mso-displayed-thousand-separator:"\.";}
@page
	{margin:.75in .7in .75in .7in;
	mso-header-margin:.3in;
	mso-footer-margin:.3in;}
-->
</style>
<![if !supportTabStrip]><script language="JavaScript">
<!--
function fnUpdateTabs()
 {
  if (parent.window.g_iIEVer>=4) {
   if (parent.document.readyState=="complete"
    && parent.frames['frTabs'].document.readyState=="complete")
   parent.fnSetActiveSheet(1);
  else
   window.setTimeout("fnUpdateTabs();",150);
 }
}

if (window.name!="frSheet")
 window.location.replace("../209.1.htm");
else
 fnUpdateTabs();
//-->
</script>
<![endif]>
</head>

<body link=blue vlink=purple>

<table border=0 cellpadding=0 cellspacing=0 width=1495 style='border-collapse:
 collapse;table-layout:fixed;width:1121pt'>
 <col width=1447 style='mso-width-source:userset;mso-width-alt:52918;
 width:1085pt'>
 <col width=48 style='mso-width-source:userset;mso-width-alt:1755;width:36pt'>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 width=1447 style='height:15.0pt;width:1085pt'>Compartición
  de datos con Samba</td>
  <td class=xl81 width=48 style='width:36pt'><a href="sheet001.htm#RANGE!A1"><span
  style='font-weight:700'>Volver</span></a></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><font class="font12">Samba</font><font
  class="font0"> es una solución de software de interoperabilidad con Windows
  disponible en los sistemas Linux y Unix.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El nombre de <font class="font5">Samba</font><font
  class="font0"> viene del protocolo </font><font class="font13">SMB (Server
  Message Block)</font><font class="font0"> utilizado para la compartición de
  recursos en las redes Microsoft.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Permite en particular compartir archivos
  e impresoras en los servidores Linux para clientes Windows.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>La suite software <font class="font5">Samba</font><font
  class="font0"> también tiene un cliente que permite a las máquinas Linux
  conectarse a los recursos compartidos de un servidor Windows.</font></td>
  <td></td>
 </tr>
 <tr height=40 style='height:30.0pt;mso-xlrowspan:2'>
  <td height=40 colspan=2 style='height:30.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>1. Configuración general</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>a. Los daemons Samba</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><a name="RANGE!A11"><font class="font5">Samba</font><font
  class="font0"> se basa en dos </font><font class="font16">daemons</font><font
  class="font0"> llamados </font><font class="font17">nmbd</font><font
  class="font0"> y </font><font class="font13">smbd</font><font class="font0">.</font></a></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El daemon <font class="font17">nmbd</font><font
  class="font0"> se encarga de anunciar los servicios y en general de todo el
  funcionamiento </font><font class="font17">NetBIOS</font><font class="font0">
  over IP.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El daemon <font class="font13">smbd</font><font
  class="font0"> se encarga de las comparticiones de </font><font class="font13">archivos</font><font
  class="font0"> y de </font><font class="font13">impresoras</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El <font class="font5">script</font><font
  class="font0"> de </font><font class="font5">gestión</font><font class="font0">
  del </font><font class="font5">servicio</font><font class="font0"> que
  generalmente está presente en las distribuciones </font><font class="font5">inicia</font><font
  class="font0"> estos </font><font class="font5">dos</font><font class="font0">
  daemons en cada </font><font class="font5">arranque</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>b. Los archivos de
  configuración</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Los daemons <font class="font5">Samba</font><font
  class="font0"> tienen su configuración en el archivo de configuración </font><font
  class="font13">smb.conf</font><font class="font0">, generalmente ubicado en
  el directorio </font><font class="font13">/etc/samba</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El archivo de configuración está dividido
  en <font class="font5">secciones</font><font class="font0"> estandarizadas,
  cada una precedida por un título entre </font><font class="font5">corchetes</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Los parámetros de funcionamiento se
  ubican en cada una de estas secciones escritos siguiendo la sintaxis <font
  class="font5">parámetro = valor</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Formato resumido de smb.conf</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>[sección1]<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span>parámetro1 = valor1<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span>parámetro2 = valor2<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>[sección2]<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span>parámetro3 = valor3<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span>parámetro4 = valor4</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><a name="RANGE!A31">Existe una
  herramienta muy útil llamada <font class="font13">testparm</font><font
  class="font0"> que </font><font class="font5">valida</font><font class="font0">
  el formato de un archivo de </font><font class="font5">configuración</font><font
  class="font0"> </font><font class="font5">Samba</font><font class="font0">.</font></a></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>También devuelve un informe puro (sin
  líneas de comentarios) de la configuración por la salida estándar.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Naturalmente, esta salida se puede
  redirigir a un archivo y generar un smb.conf legible y de tamaño razonable.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Cabe destacar que el comando <font
  class="font13">testparm</font><font class="font0"> ignora todo parámetro del
  archivo de configuración si se ha configurado con su valor por defecto.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Este comportamiento se puede modificar
  con la opción <font class="font13">-v</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Entonces todas las opciones aplicables se
  mostrarán.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Ejemplo de uso de testparm
  para generar un archivo smb.conf sencillo</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Este método se utiliza a menudo para usar
  un archivo de configuración con muchos comentarios obteniendo un archivo real
  de dimensiones razonables.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>alfa:/etc/samba# mv smb.conf
  big.smb.conf<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>alfa:/etc/samba# wc -l
  big.smb.conf<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>326 big.smb.conf<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>alfa:/etc/samba# testparm
  big.smb.conf &gt; smb.conf<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>Load smb config files from
  big.smb.conf<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>Processing section
  &quot;[homes]&quot;<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>Processing section
  &quot;[printers]&quot;<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>Processing section
  &quot;[print$]&quot;<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>Loaded services file OK.<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>Server role:
  ROLE_STANDALONE<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>Press enter to see a dump of
  your service definitions<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>alfa:/etc/samba# wc -l
  smb.conf<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>31 smb.conf<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>alfa:/etc/samba# testparm -v
  big.smb.conf &gt; todas-las-opciones.info.smb.conf<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>alfa:/etc/samba#</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Las versiones preinstaladas de <font
  class="font5">Samba</font><font class="font0"> ofrecen siempre un archivo </font><font
  class="font13">smb.conf</font><font class="font0"> </font><font class="font16">preconfigurado</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Aunque este archivo puede considerarse
  una buena base de partida, su tamaño (326 líneas para Debian) presenta el
  riesgo de impresionar a los iniciados.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl78 style='height:15.0pt'>Seguramente sería mejor
  generar un archivo solo con los elementos explícitamente necesarios.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>c. Configuración global</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>En su configuración más simple, una
  implementación <font class="font5">Samba</font><font class="font0"> incluye
  un </font><font class="font5">servidor</font><font class="font0"> que alberga
  uno o más </font><font class="font5">recursos</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Algunos parámetros relacionados con el
  funcionamiento global y la identidad de este servidor se encuentran en una
  sección llamada <font class="font19">global</font><font class="font0"> del
  archivo </font><font class="font13">smb.conf</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>En los ejemplos siguientes, nos pondremos
  en la situación de un servidor simple, fuera de un dominio Windows, que tiene
  comparticiones para clientes Windows.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Elementos comunes de la
  sección [global] en smb.conf</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>workgroup = grupo_de_trabajo<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>server string = comentario<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>log file = /ruta/log.%m<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>max log size = log_maxi<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>security = user (por defecto)<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>encrypt passwords = true (por defecto)</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Sección [global] del archivo
  smb.conf</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>grupo_de_trabajo <font
  class="font10">--&gt; El nombre del grupo de trabajo del servidor. Hay que
  tener en cuenta que este parámetro también proporciona el nombre del dominio
  cuando está trabajando en un dominio.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>comentario <font class="font10">--&gt;
  Comentario asociado al servidor. Visible por ejemplo en el Entorno de Red de
  las máquinas Windows.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>log.%m <font class="font10">--&gt;
  Definición del formato estándar de los archivos de registro.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>log_maxi <font class="font10">--&gt;
  Definición del tamaño máximo de los archivos de registro.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>user <font class="font10">--&gt;
  Opcional, ya que es un parámetro por defecto. Parámetro de seguridad que
  obliga a autentificarse con una cuenta de usuario.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>encrypt passwords <font
  class="font10">--&gt; Opcional, ya que es un parámetro por defecto. Necesario
  para todos los clientes modernos que presentan de forma nativa contraseñas
  cifradas (desde NT4SP3).</font></td>
  <td></td>
 </tr>
 <tr height=40 style='height:30.0pt;mso-xlrowspan:2'>
  <td height=40 colspan=2 style='height:30.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>2. Compartición de directorios</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Para compartir un directorio hay que
  añadir una sección en el archivo <font class="font13">smb.conf</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Formato típico de una sección
  de compartición en smb.conf</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>[nombre_compartición]<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>comment = comentario<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>path = ruta<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>readonly = solo_lectura<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>   </span>browseable = yes</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Declaración de comparticiones
  en smb.conf.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>nombre_compartición <font
  class="font10">--&gt; El nombre con el que se verá la compartición en las
  máquinas Windows.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>comentario <font class="font10">--&gt;
  Opcional. Definición del comentario asociado a la compartición.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>ruta <font class="font10">--&gt;
  Definición de la ruta del directorio que se desea compartir. El directorio
  debe existir en el sistema de archivos Linux.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>solo_lectura <font
  class="font10">--&gt; Definición del acceso a la compartición en modo de solo
  lectura o lectura/escritura. solo_lectura tendrá el valor yes o no según se
  elija la configuración.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>                                </span>Hay que tener
  en cuenta que este parámetro se aplica a la compartición y que el acceso
  queda sometido a los permisos del sistema de archivos Linux.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>browseable <font class="font10">--&gt;
  Gestión de la visibilidad de la compartición para los clientes.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Si consulta el conjunto de parámetros
  disponibles para el archivo <font class="font13">smb.conf</font><font
  class="font0">, puede quedar comprensiblemente impresionado por su gran
  cantidad.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Hay que tener en cuenta que muchos
  parámetros funcionales pueden expresarse de varias formas.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Tomemos por ejemplo el parámetro de
  acceso a una compartición en solo lectura que hemos visto anteriormente.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Todas las expresiones
  siguientes son equivalentes:</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>readonly = yes</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>readonly = true</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>writable = no</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>writable = false</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>writeable = no</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>writeable = false</td>
  <td></td>
 </tr>
 <tr height=40 style='height:30.0pt;mso-xlrowspan:2'>
  <td height=40 colspan=2 style='height:30.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>3. Administración de
  credenciales</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>a. Algoritmos de hash y de
  almacenamiento de contraseñas</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>En la gran mayoría de los sistemas
  operativos y aplicaciones las contraseñas no se almacenan sin encriptar.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Las contraseñas de las cuentas están
  cifradas y solamente se almacena la versión cifrada.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>La contraseña sin cifrar se olvida tan
  pronto como se cifra.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Cuando un usuario se conecta y teclea sus
  credenciales para identificarse, la contraseña se codifica de inmediato.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Esta versión recién cifrada de la
  contraseña se compara con la versión almacenada en la base de datos de
  cuentas de usuario del sistema.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>De este modo, la contraseña no se
  transmite nunca sin cifrar por la red.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Los algoritmos utilizados para cifrar la
  contraseña pertenecen a la familia de los algoritmos de hash.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Funcionan de un modo un poco particular,
  en el sentido de que permiten cifrar pero nunca descifrar datos:</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>tienen un único sentido y por este hecho
  se los considera de una tipología diferenciada dentro del mundo de la
  criptografía.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Este modo de funcionamiento justifica por
  qué, cuando un usuario pierde su contraseña, se le puede reasignar una nueva,
  pero no se le puede decir cuál era la que ha olvidado.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>La única información que se guarda es la
  versión cifrada de la contraseña y es hipotéticamente indescifrable.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Los <font class="font5">algoritmos</font><font
  class="font0"> de hash más comunes se llaman </font><font class="font5">MD4,
  MD5 y SHA1</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl78 style='height:15.0pt'>Se utilizan para almacenar
  contraseñas, las operaciones de firma digital y los controles de integridad.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>b. Autentificación con
  servidores Samba</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Un servidor Linux con la suite de
  software <font class="font5">Samba</font><font class="font0"> instalada
  utiliza nativamente las cuentas del sistema para las autentificaciones </font><font
  class="font5">Samba</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>De este modo, toda conexión por parte de
  un cliente se realiza con una cuenta de usuario albergada en el sistema
  Linux.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Sin embargo, esta situación podría ser un
  problema.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>1) El cliente de <font class="font5">Windows</font><font
  class="font0"> presentará una contraseña cifrada por el algoritmo de hash
  nativo de los sistemas </font><font class="font5">Windows MD4 (Message Digest
  4)</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>2) Las contraseñas de los sistemas <font
  class="font5">Linux</font><font class="font0"> usan el algoritmo </font><font
  class="font5">MD5 (Message Digest 5)</font><font class="font0">.<span
  style='mso-spacerun:yes'> </span></font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>La contraseña cifrada proporcionada por
  el cliente de <font class="font5">Windows</font><font class="font0"> </font><font
  class="font19">no</font><font class="font0"> será, por tanto, la </font><font
  class="font19">misma</font><font class="font0"> que la que está almacenada en
  el archivo </font><font class="font19">/etc/shadow </font><font class="font0">del
  sistema Linux.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Por consiguiente, la autentificación será
  imposible, aunque la contraseña sin cifrar sea la misma.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl79 style='height:15.0pt'>Para que los clientes de
  Windows se puedan autentificar en los sistemas Linux, hay que hacer que estos
  sistemas alberguen una versión de la contraseña cifrada en MD4 además de la
  contraseña nativa cifrada en MD5.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Estas dos contraseñas se administrarán de
  forma independiente y podrán ser incluso distintas.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>c. Generación de contraseñas
  MD4</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><a name="RANGE!A150">El comando
  específico <font class="font13">smbpasswd</font><font class="font0"> permite
  crear una contraseña </font><font class="font13">MD4</font><font class="font0">
  para una cuenta Linux existente.</font></a></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Esta contraseña se almacenará aparte,
  generalmente en el archivo <font class="font13">/etc/samba/smbpasswd</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Sintaxis del comando
  smbpasswd para asignar una contraseña</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smbpasswd -a nombre_cuenta</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Comando smbpasswd: opciones y
  parámetros</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span>-a <font class="font10">--&gt; Opcional.
  Necesario si la cuenta no dispone todavía de una contraseña Samba.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>nombre_cuenta <font
  class="font10">--&gt; La cuenta Linux a la que hay que asignar la contraseña
  Samba.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>d. Sincronización con
  contraseñas Linux</td>
  <td></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Se puede solicitar que se sincronicen las
  contraseñas <font class="font5">Samba</font><font class="font0"> con las
  contraseñas del sistema Linux.</font></td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl78 style='height:15.0pt'>Atención: tal y como se ha
  explicado anteriormente, las contraseñas se cifran en ambos sistemas con
  algortimos de hash distintos, que son por definición irreversibles.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>La sincronización solo se puede realizar
  en el momento en que la contraseña se introduce sin encriptar cuando se
  utiliza el comando <font class="font5">smbpasswd</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Es entonces cuando la contraseña se cifra
  dos veces con los dos algoritmos diferentes y se modifican las dos bases de
  datos de cuentas de usuario.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Esta sincronización se activa mediante
  una directiva en el archivo <font class="font13">smb.conf</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Activación de la
  sincronización de contraseñas en smb.conf</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>unix password sync = yes</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>e. Borrado o desactivación de
  una cuenta Samba</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Se puede necesitar interrumpir el acceso
  de una cuenta de un usuario a los recursos compartidos del servidor <font
  class="font5">Samba</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El comando <font class="font13">smbpasswd</font><font
  class="font0"> puede eliminar, desactivar o reactivar la cuenta </font><font
  class="font5">Samba</font><font class="font0">, independientemente de la
  cuenta Linux asociada.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Comando smbpasswd para
  desactivar una cuenta Samba</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smbpasswd -d nombre_cuenta</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Comando smbpasswd para
  reactivar una cuenta Samba</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smbpasswd -e nombre_cuenta</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Comando smbpasswd para
  eliminar una cuenta Samba</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smbpasswd -x nombre_cuenta</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Donde <font class="font13">nombre_cuenta</font><font
  class="font0"> representa la cuenta de </font><font class="font19">usuario</font><font
  class="font0"> </font><font class="font5">Samba</font><font class="font0">
  que se desea modificar.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Cabe decir que las operaciones en las
  cuentas <font class="font5">Samba</font><font class="font0"> no tienen efecto
  alguno en la cuenta Linux correspondiente.</font></td>
  <td></td>
 </tr>
 <tr height=40 style='height:30.0pt;mso-xlrowspan:2'>
  <td height=40 colspan=2 style='height:30.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>4. El cliente Samba</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El cliente <font class="font5">Samba</font><font
  class="font0"> permite acceder a una compartición de una máquina Windows o </font><font
  class="font5">Samba</font><font class="font0"> desde un cliente Linux.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Permite incluso a un cliente Linux
  conectarse a un servidor <font class="font5">Samba</font><font class="font0">
  Linux, pero el objetivo es más bien acceder a datos de una compartición
  Windows desde una máquina Linux.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Los dos comandos principales del cliente
  Samba son <font class="font13">smbclient</font><font class="font0"> y </font><font
  class="font13">smbmount</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>a. Uso puntual de recursos
  compartidos con smbclient</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Básicamente, se utiliza <font
  class="font13">smbclient</font><font class="font0"> para obtener información
  de los recursos compartidos albergados por un servidor SMB.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Utilización de smbclient para
  obtener información acerca de un servidor smb</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smbclient -L
  dirección_servidor -U nombre_usuario</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*smbclient para mostrar
  comparticiones: parámetros</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>dirección_servidor <font
  class="font10">--&gt; La dirección IP del servidor del que se quiere mostrar
  los recursos.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>nombre_usuario <font
  class="font10">--&gt; Indica el nombre del usuario que realiza la consulta al
  servidor. Tiene que ser una cuenta existente y válida en el servidor.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>También se puede utilizar el comando <font
  class="font13">smbclient</font><font class="font0"> de forma interactiva
  conectándose a un recurso compartido y accediendo a un shell que permita
  realizar operaciones con los archivos.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Utilizaciones de smbclient en
  modo interactivo</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smbclient
  \\\\dirección_servidor\\compartición -U nombre_usuario</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smbclient
  //dirección_servidor/compartición -U nombre_usuario</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Donde <font class="font13">compartición</font><font
  class="font0"> representa el nombre de la </font><font class="font5">compartición</font><font
  class="font0"> albergada por el </font><font class="font5">servidor</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Las <font class="font16">múltiples
  contrabarras</font><font class="font0"> son </font><font class="font19">necesarias</font><font
  class="font0"> aunque generen una sintaxis un tanto curiosa.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>De hecho, se trata de una ruta <font
  class="font13">UNC (Uniform Naming Convention)</font><font class="font0">,
  utilizada para designar un recurso en los entornos Windows.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Una ruta <font class="font5">UNC</font><font
  class="font0"> se compone del </font><font class="font17">nombre del
  servidor, precedido de dos contrabarras, seguido de la ruta al recurso,
  separando con una contrabarra cada nivel</font><font class="font5">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Sin embargo, se da el caso que en los
  sistemas Linux la contrabarra es un carácter reservado que indica que el
  shell no debe interpretar el carácter siguiente.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Para escribir una contrabarra de verdad,
  hay que anteponerle otra para indicarle al sistema que la segunda debe
  considerarse como una contrabarra normal.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Una alternativa más ligera consiste en
  cambiar las contrabarras por barras normales.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl80 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span>Ambas <font class="font19">sintaxis</font><font
  class="font16"> están permitidas.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Una vez que este comando se ejecuta y
  después de haber introducido la contraseña del usuario, se entra en el shell
  específico <font class="font13">smbclient</font><font class="font0"> que
  permite </font><font class="font5">realizar</font><font class="font0"> </font><font
  class="font5">operaciones</font><font class="font0"> con los </font><font
  class="font5">archivos</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Los principales usos serán, por supuesto,
  obtener o enviar archivos a la compartición.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Se puede <font class="font5">desplazar</font><font
  class="font0"> por la </font><font class="font5">estructura</font><font
  class="font0"> de </font><font class="font5">directorios</font><font
  class="font0"> con el comando </font><font class="font21">cd</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Además, los dos comandos básicos son <font
  class="font13">get</font><font class="font0"> para </font><font class="font10">obtener</font><font
  class="font0"> archivos y </font><font class="font13">put</font><font
  class="font0"> para </font><font class="font10">enviar</font><font
  class="font0"> archivos a la compartición.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Ejemplo de uso de smbclient
  en modo interactivo</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>La utilidad smbclient presenta un
  conjunto de comandos parecido al de los clientes FTP.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>alfa:~# smbclient
  \\\\192.168.0.1\\data -U toto<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>Enter toto’s password:<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>Domain=[WSERVIDOR] OS=[Windows
  5.1] Server=[Windows 2000 LAN Manager]<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>smb: \&gt; ls<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>  </span>.<span
  style='mso-spacerun:yes'>                                   </span>D<span
  style='mso-spacerun:yes'>        </span>0<span style='mso-spacerun:yes'> 
  </span>Wed Feb<span style='mso-spacerun:yes'>  </span>3 19:28:33 2010<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>  </span>..<span
  style='mso-spacerun:yes'>                                  </span>D<span
  style='mso-spacerun:yes'>        </span>0<span style='mso-spacerun:yes'> 
  </span>Wed Feb<span style='mso-spacerun:yes'>  </span>3 19:28:33 2010<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>  </span>dos<span
  style='mso-spacerun:yes'>                                 </span>D<span
  style='mso-spacerun:yes'>        </span>0<span style='mso-spacerun:yes'> 
  </span>Wed Feb<span style='mso-spacerun:yes'>  </span>3 18:50:05 2010<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>  </span>uno<span
  style='mso-spacerun:yes'>                                 </span>D<span
  style='mso-spacerun:yes'>        </span>0<span style='mso-spacerun:yes'> 
  </span>Wed Feb<span style='mso-spacerun:yes'>  </span>3 19:28:38 2010<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>    </span>40915 blocks of size 262144. 34718 blocks
  available<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>smb: \&gt; cd uno<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smb: \uno\&gt; ls<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>  </span>.<span
  style='mso-spacerun:yes'>                                   </span>D<span
  style='mso-spacerun:yes'>        </span>0<span style='mso-spacerun:yes'> 
  </span>Wed Feb<span style='mso-spacerun:yes'>  </span>3 19:28:38 2010<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>  </span>..<span
  style='mso-spacerun:yes'>                                  </span>D<span
  style='mso-spacerun:yes'>        </span>0<span style='mso-spacerun:yes'> 
  </span>Wed Feb<span style='mso-spacerun:yes'>  </span>3 19:28:38 2010<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>  </span>archivo.txt<span
  style='mso-spacerun:yes'>                         </span>A<span
  style='mso-spacerun:yes'>       </span>27<span style='mso-spacerun:yes'> 
  </span>Wed Feb<span style='mso-spacerun:yes'>  </span>3 19:15:49 2010<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>  </span>truco.bmp<span
  style='mso-spacerun:yes'>                           </span>A<span
  style='mso-spacerun:yes'>        </span>0<span style='mso-spacerun:yes'> 
  </span>Wed Feb<span style='mso-spacerun:yes'>  </span>3 18:46:44 2010<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'><span
  style='mso-spacerun:yes'>    </span>40915 blocks of size 262144. 34718 blocks
  available<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>smb: \uno\&gt; get
  archivo.txt<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>getting file \uno\archivo.txt
  of size 27 as archivo.txt (2,0 kb/s)<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>(average 2,0 kb/s)<span
  style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smb: \uno\&gt; exit<span
  style='mso-spacerun:yes'>  </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>alfa:~# ls<span
  style='mso-spacerun:yes'>  </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>archivo.txt<span
  style='mso-spacerun:yes'>  </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>alfa:~#</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>b. Montaje de una compartición
  SMB con smbmount</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Aunque <font class="font13">smbclient</font><font
  class="font0"> permite realizar un acceso puntual a las comparticiones,
  existe un método más cómodo para usar directorios compartidos desde un
  cliente Linux: el montaje de una compartición en la estación de trabajo
  Linux.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>El comando <font class="font13">smbmount</font><font
  class="font0"> permite realizar el montaje de una compartición </font><font
  class="font5">SMB</font><font class="font0"> en un directorio </font><font
  class="font5">local</font><font class="font0">, tal y como se puede hacer con
  un sistema de archivos local o una compartición NFS.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Sintaxis del comando smbmount</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smbmount
  \\\\dirección_servidor\\compartición punto_de_montaje -o
  user=nombre_usuario<span style='mso-spacerun:yes'> </span></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>smbmount
  //dirección_servidor/compartición punto_de_montaje -o user=nombre_usuario</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*smbmount: opciones y
  parámetros</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>dirección_servidor <font
  class="font10">--&gt; Dirección IP del servidor que tiene la compartición a
  la que se quiere acceder.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>compartición <font
  class="font10">--&gt; Nombre de la compartición albergada en el servidor.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>punto_de_montaje <font
  class="font10">--&gt; Directorio existente en el que se montará la
  compartición.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl77 style='height:15.0pt'>nombre_usuario <font
  class="font10">--&gt; Nombre del usuario que realizará la petición al
  servidor. Tiene que ser una cuenta existente y válida en el servidor.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Existe una <font class="font17">alternativa</font><font
  class="font0"> a esta sintaxis, que supone realizar el montaje mediante el
  comando </font><font class="font17">mount</font><font class="font0"> llamando
  a </font><font class="font17">smbmount</font><font class="font0"> como
  subprograma.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Esta sintaxis presenta la ventaja de
  uniformar todas las operaciones de montaje y, por lo tanto, solo tener que
  recordar una sintaxis genérica.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Sintaxis del comando mount
  para montar una compartición smb</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>mount -t smbfs -o
  username=nombre_usuario //dirección_servidor/compartición punto_de_montaje</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>La opción <font class="font13">-t smbfs</font><font
  class="font0"> provoca la llamada al subprograma </font><font class="font13">smbmount</font><font
  class="font0"> para realizar el montaje, pero a partir de una sintaxis casi
  estándar para hacerlo.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>c. Montaje de una compartición
  CIFS</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Para responder a las necesidades de
  apertura del protocolo, <font class="font13">SMB </font><font class="font22">se
  ha normalizado</font><font class="font0">, ha evolucionado y se ahora se
  denomina </font><font class="font13">CIFS</font><font class="font10"> (Common
  Internet File System)</font><font class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>La suite de software <font class="font5">Samba</font><font
  class="font0"> ahora designa a su cliente y a los elementos de software con
  este nombre.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Como los hábitos se resisten a morir,
  todavía persiste el uso del nombre de SMB.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Según las versiones de <font class="font5">Samba</font><font
  class="font0"> usadas, </font><font class="font5">se puede utilizar </font><font
  class="font13">smb,</font><font class="font5"> </font><font class="font13">cifs</font><font
  class="font5"> o </font><font class="font13">smb</font><font class="font5"> y
  </font><font class="font13">cifs</font><font class="font5"> indiferentemente</font><font
  class="font0">.</font></td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl78 style='height:15.0pt'>La tendencia es la
  desaparición de smb en beneficio de cifs.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr class=xl76 height=20 style='height:15.0pt'>
  <td height=20 class=xl76 style='height:15.0pt'>*Sintaxis del comando mount
  para comparticiones cifs</td>
  <td class=xl76></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl75 style='height:15.0pt'>mount -t cifs -o
  username=nombre_usuario //dirección_servidor/compartición punto_de_montaje</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 colspan=2 style='height:15.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'>Se puede verificar desde el lado servidor
  cuáles son los clientes que están conectados.</td>
  <td></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 style='height:15.0pt'><a name="RANGE!A284">El comando <font
  class="font13">smbstatus</font><font class="font0"> muestra las conexiones
  smb activas.</font></a></td>
  <td></td>
 </tr>
 <tr height=60 style='height:45.0pt;mso-xlrowspan:3'>
  <td height=60 colspan=2 style='height:45.0pt;mso-ignore:colspan'></td>
 </tr>
 <tr height=20 style='height:15.0pt'>
  <td height=20 class=xl81 style='height:15.0pt'><a href="sheet001.htm#RANGE!A1"><span
  style='font-weight:700'>Volver</span></a></td>
  <td></td>
 </tr>
 <![if supportMisalignedColumns]>
 <tr height=0 style='display:none'>
  <td width=1447 style='width:1085pt'></td>
  <td width=48 style='width:36pt'></td>
 </tr>
 <![endif]>
</table>

</body>

</html>
